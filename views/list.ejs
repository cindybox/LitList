<%- include("header") -%>

<div class="container-fluid">
  <div class="navbar">
    <ul class="nav flex-column">
      <li class="nav-item">
        <a class="nav-link active" href="#">Today</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#"> <form class="newlists" action="/" method="post">
            <input type="text" name="newLists" placeholder="New List" autocomplete="off">
            <button type="submit" name="listsName" >+</button>
          </form></a>
      </li>

    </ul>
  </div>

  <div class="box">
    <div class="title" id="heading">
      <h1> <%= listTitle %> </h1>
    </div>



    <div class="lists">
      <%  newListItems.forEach(function(item){%>
      <form action="/delete" method="post">
        <div class="item">
          <input type="checkbox" name="checkbox" value="<%= item._id %>" onChange="this.form.submit()">
          <p><%=  item.name  %></p>
        </div>
        <input type="hidden" name="listName" value="<%= listTitle %>"></input>
        <!-- why this input has to be outside the div to be able to pass value to js? -->
      </form>
      <%})%>

      <form class="item" action="/" method="post">
        <input type="text" name="newItem" placeholder="New Item" autocomplete="off">
        <button type="submit" name="listName" value="<%= listTitle %>">+</button>
      </form>
    </div>
  </div>
</div>

<%- include("footer") -%>
